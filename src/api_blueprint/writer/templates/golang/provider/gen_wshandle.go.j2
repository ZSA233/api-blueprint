// Code generated by api-blueprint (Golang); DO NOT EDIT.

package provider

import "strings"

const (
	PROV_WS_HANDLE = "ws_handle"
)

type WsHandleProvider[Q, B, P any] struct {
	Subs    []string
	Extra   string
	Handler func(c *Context[Q, B, P], req *REQ[Q, B]) (rsp *P, err error)
}

func (prov *WsHandleProvider[Q, B, P]) GetName() string {
	return PROV_WS_HANDLE
}

func NewWsHandleProvider[Q, B, P any](
	data string,
	handler func(c *Context[Q, B, P], req *REQ[Q, B]) (rsp *P, err error),
) *WsHandleProvider[Q, B, P] {
	subsAndExtra := strings.SplitN(data, "@", 2)
	subs := strings.Split(subsAndExtra[0], ",")
	var extra string
	if len(subsAndExtra) > 1 {
		extra = subsAndExtra[1]
	}
	return &WsHandleProvider[Q, B, P]{
		Subs:    subs,
		Extra:   extra,
		Handler: handler,
	}
}
